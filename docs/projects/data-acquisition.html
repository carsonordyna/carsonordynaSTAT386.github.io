<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Carson Ordyna">
<meta name="dcterms.date" content="2025-11-17">

<title>Data Acquisition Project – Carson Ordyna - Data Science Portfolio for STAT 386</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-f245066ca199b7326ac6b360085ddf3a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Carson Ordyna - Data Science Portfolio for STAT 386</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../tutorial_blog.html"> 
<span class="menu-text">Tutorial Blog</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../projects/index.html">
 <span class="dropdown-text">All Projects</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../projects/eda.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/data-acquisition.html">
 <span class="dropdown-text">Data Acquisition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/final-project.html">
 <span class="dropdown-text">Final Project</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/your-username"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/your-profile"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../projects/data-acquisition.html">Data Acquisition Project</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projects Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects/eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EDA Project</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects/data-acquisition.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Data Acquisition Project</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects/final-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Project</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#scraping-lds-scripture-count-and-citation-data" id="toc-scraping-lds-scripture-count-and-citation-data" class="nav-link active" data-scroll-target="#scraping-lds-scripture-count-and-citation-data">Scraping LDS Scripture Count and Citation Data</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#method" id="toc-method" class="nav-link" data-scroll-target="#method">Method</a></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
  <li><a href="#additional-information" id="toc-additional-information" class="nav-link" data-scroll-target="#additional-information">Additional Information</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Data Acquisition Project</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Carson Ordyna </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 17, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="scraping-lds-scripture-count-and-citation-data" class="level1">
<h1>Scraping LDS Scripture Count and Citation Data</h1>
<section id="outline" class="level5">
<h5 class="anchored" data-anchor-id="outline"><strong>Outline</strong></h5>
<ol type="1">
<li><a href="#introduction"><strong>Introduction</strong></a></li>
<li><a href="#method"><strong>Method</strong></a></li>
<li><a href="#exploratory-data-analysis"><strong>Exploratory Data Analysis</strong></a></li>
<li><a href="#additional-information"><strong>Additional Information</strong></a></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../lds_logo.jpg" class="img-fluid figure-img"></p>
<figcaption>Logo for The Church of Jesus Christ of Latter-day Saints</figcaption>
</figure>
</div>
</section>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction</h3>
<p>For two years, from 2021 to 2023, I served as a full-time volunteer for my church, The Church of Jesus Christ of Latter-day Saints in Poland. Every six months, leaders of our Church give talks about Jesus Christ and His restored gospel, and members across the world listen to the broadcasted speeches. As a volunteer, I spent at least an hour each day studying from the Bible, the Book of Mormon, and other books of scripture, and I often wondered which verses of scripture were most often cited in the talks given by church leaders. I figured that a given verse’s citation frequency was a good proxy measure of its importance. If certain verses have been quoted rather frequently, then I felt that I should know the references to them—and maybe even memorize the verses themselves.</p>
<p>The issue, though, was having the time and willpower to manually comb through each talk and tally up all the scripture citations. In my eyes, the juice simply wasn’t worth the squeeze. However, after returning home from Poland, through my statistics coursework, I have learned webscraping skills that have allowed me automate this task, thereby providing the desired results in a fraction of the time and with a fraction of the effort that would have been required to do everything manually.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../scriptures.jpg" class="img-fluid figure-img"></p>
<figcaption>Scriptures</figcaption>
</figure>
</div>
</section>
<section id="method" class="level3">
<h3 class="anchored" data-anchor-id="method">Method</h3>
<p>The semiannual meetings during which leaders give these talks are called General Conferences. On <a href="https://www.churchofjesuschrist.org/study/general-conference">the Church’s website</a>, General Conference talks from the last several years may be found. Additionally, the content of all five books of the Church’s cannonized scripture (the Old Testament, New Testament, Book of Mormon, Doctrine and Covenants, and the Pearl of Great Price, collectively referred to as the “Standard Works”) may also be found on <a href="https://www.churchofjesuschrist.org/study/scriptures">the Church’s website</a>. After reviewing the <code>robots.txt</code> for the site, I confirmed that the <code>general-conference</code> and <code>scripture</code> webpages were not disallowed and, therefore, were eligible for scraping.</p>
<p>I began with obtaining a list of verse counts for each chapter in each book in each standard work. These verse counts were then used when whole chapters and whole books were cited. In such cases, each verse in the whole chapter/book were counted as being cited. To generate this list of verse counts, I explored the <code>scripture</code> pages of <a href="https://www.churchofjesuschrist.org/study/scriptures">the Church’s website</a> and made note of how the web address was patterned. I observed that the address format of a webpage for a given chapter was: https://www.churchofjesuschrist.org/study/scriptures/{standard work code}/{book code}/{chapter number}. From the main <code>scripture</code> page, using <code>requests</code> and <code>BeautifulSoup</code>, I scraped a list of these codes for each standard work (e.g.&nbsp;<code>bofm</code> for Book of Mormon) and each book within it (e.g.&nbsp;<code>1-ne</code> for 1 Nephi). I was then able to iterate through these standard work and book codes, scrape the webpages for all the chapters, and ultimately record the total number of verses in each chapter.</p>
<p>After obtaining verse count data, I explored the <code>general-conference</code> pages of <a href="https://www.churchofjesuschrist.org/study/general-conference">the Church’s website</a>. As similarly done before, I made note of the address format of a webpage for a given General Conference talk. Then, I began to iterate through each year (from 2016 to 2025 inclusive) and through each of the two conferences held each year. For each conference, I iterated through each talk given, and for each talk, I scraped a list of all links that were to a <code>scripture</code> webpage. I filtered out ones that were not associated with a legitimate verse, set of verses, chapter, or book, and I appended the rest to a running list. For simplicity, I broke up sets of verses individually (e.g.&nbsp;1 Nephi 4:6-7 would be treated as 1 Nephi 4:6 and 1 Nephi 4:7). Entire chapters and books were treated similarly.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../president_oaks.jpg" style="width:50.0%;height:40.0%" class="figure-img"></p>
<figcaption>Dallin H. Oaks, President of the Church, speaking at General Conference (Oct.&nbsp;2025)</figcaption>
</figure>
</div>
<p>After iterating through everything, the running list of citations were grouped by <code>Book</code>, <code>Chapter</code>, and <code>Verse</code> and the number of <code>Citations</code> computed. The data was then subsetted to include only verses that were cited at least 8 times (<span class="math inline">\(n = 887\)</span>). For this subset, the corresponding text of each verse was also scraped and added. This citation data was merged with the count data and then saved.</p>
<p>The following consists of some brief exploratory analysis of the results.</p>
</section>
<section id="exploratory-data-analysis" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h3>
<div id="aae4aaff" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tableone <span class="im">import</span> TableOne</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the data</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"../verse_data/Verses.csv"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>counts_df <span class="op">=</span> pd.read_csv(<span class="st">"../verse_data/VerseCounts.csv"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add two columns with individual book and standard work verse counts</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Book_Verse_Count'</span>] <span class="op">=</span> df[<span class="st">'Book'</span>].<span class="bu">map</span>(counts_df.groupby(by<span class="op">=</span><span class="st">'Book'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict())</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Standard_Work_Verse_Count'</span>] <span class="op">=</span> df[<span class="st">'Standard_Work'</span>].<span class="bu">map</span>(counts_df.groupby(by<span class="op">=</span><span class="st">'Standard_Work'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict())</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect the data</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>df<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> rows and </span><span class="sc">{</span>df<span class="sc">.</span>shape[<span class="dv">1</span>]<span class="sc">}</span><span class="ss"> columns </span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The 15 most cited verses in the last 10 years:"</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">'Book'</span>, <span class="st">'Chapter'</span>, <span class="st">'Verse'</span>, <span class="st">'Citations'</span>, <span class="st">'Text'</span>]].head(<span class="dv">15</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>887 rows and 9 columns 

The 15 most cited verses in the last 10 years:</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Book</th>
<th data-quarto-table-cell-role="th">Chapter</th>
<th data-quarto-table-cell-role="th">Verse</th>
<th data-quarto-table-cell-role="th">Citations</th>
<th data-quarto-table-cell-role="th">Text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>2 Nephi</td>
<td>31</td>
<td>20</td>
<td>68</td>
<td>Wherefore, ye must press forward with a steadf...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>Alma</td>
<td>7</td>
<td>12</td>
<td>64</td>
<td>And he will take upon him death, that he may l...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>Alma</td>
<td>7</td>
<td>11</td>
<td>61</td>
<td>And he shall go forth, suffering pains and aff...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>Moses</td>
<td>1</td>
<td>39</td>
<td>59</td>
<td>For behold, this is my work and my glory—to br...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>Matthew</td>
<td>11</td>
<td>28</td>
<td>52</td>
<td>Come unto me, all ye that labour and are heavy...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>Doctrine and Covenants</td>
<td>20</td>
<td>77</td>
<td>52</td>
<td>O God, the Eternal Father, we ask thee in the ...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>Mosiah</td>
<td>18</td>
<td>9</td>
<td>50</td>
<td>Yea, and are willing to mourn with those that ...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>Mosiah</td>
<td>2</td>
<td>41</td>
<td>47</td>
<td>And moreover, I would desire that ye should co...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">8</th>
<td>John</td>
<td>3</td>
<td>16</td>
<td>47</td>
<td>For God so loved the world, that he gave his o...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">9</th>
<td>Moroni</td>
<td>10</td>
<td>32</td>
<td>47</td>
<td>Yea, come unto Christ, and be perfected in him...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">10</th>
<td>Mosiah</td>
<td>3</td>
<td>19</td>
<td>46</td>
<td>For the natural man is an enemy to God, and ha...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">11</th>
<td>Matthew</td>
<td>22</td>
<td>37</td>
<td>45</td>
<td>Jesus said unto him, Thou shalt love the Lord ...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">12</th>
<td>Doctrine and Covenants</td>
<td>84</td>
<td>20</td>
<td>43</td>
<td>Therefore, in the ordinances thereof, the powe...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">13</th>
<td>Matthew</td>
<td>22</td>
<td>39</td>
<td>43</td>
<td>And the second is like unto it, Thou shalt lov...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">14</th>
<td>2 Nephi</td>
<td>31</td>
<td>19</td>
<td>42</td>
<td>And now, my beloved brethren, after ye have go...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="c7303702" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Display a "Table 1" with standard works and citation COUNTS</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate the table for COUNTS</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>table_df <span class="op">=</span> TableOne(df, columns<span class="op">=</span>[<span class="st">'Standard_Work'</span>, <span class="st">'Citations'</span>],</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                    categorical<span class="op">=</span>[<span class="st">'Standard_Work'</span>], continuous<span class="op">=</span>[<span class="st">'Citations'</span>], missing <span class="op">=</span> <span class="va">False</span>).tableone</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the last row and rename the index and a column</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>table_df <span class="op">=</span> table_df.iloc[:<span class="op">-</span><span class="dv">1</span>, ]</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>table_df.columns <span class="op">=</span> [<span class="st">'Citations'</span>]</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>table_df.index <span class="op">=</span> pd.MultiIndex.from_tuples([(                   <span class="st">'n'</span>,                       <span class="st">''</span>),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,         <span class="st">'Book of Mormon'</span>),</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>, <span class="st">'Doctrine and Covenants'</span>),</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,          <span class="st">'New Testament'</span>),</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,          <span class="st">'Old Testament'</span>),</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,   <span class="st">'Pearl of Great Price'</span>)])</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the PROPORTIONS (i.e. average citations per verse)</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> df.merge(counts_df, on<span class="op">=</span>[<span class="st">"Standard_Work"</span>, <span class="st">"Book"</span>, <span class="st">"Chapter"</span>])</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>cite_dict <span class="op">=</span> df_1.groupby(<span class="st">'Standard_Work'</span>)[<span class="st">'Citations'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>count_dict <span class="op">=</span> counts_df.groupby(by<span class="op">=</span><span class="st">'Standard_Work'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> {}</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key <span class="kw">in</span> cite_dict:</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    df_1[key] <span class="op">=</span> <span class="bu">round</span>(cite_dict[key] <span class="op">/</span> count_dict[key], <span class="dv">2</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the PROPORTIONS (i.e. average citations per verse) to the table</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>table_df[<span class="st">'Average Citations per Verse'</span>] <span class="op">=</span> [df_1.get(idx[<span class="dv">1</span>], <span class="st">''</span>) <span class="cf">for</span> idx <span class="kw">in</span> table_df.index]</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder the rows</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>table_df.iloc[[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>]]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Citations</th>
<th data-quarto-table-cell-role="th">Average Citations per Verse</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">n</th>
<th data-quarto-table-cell-role="th"></th>
<td>887</td>
<td></td>
</tr>
<tr class="even">
<th rowspan="5" data-quarto-table-cell-role="th" data-valign="top">Standard Work: n (%)</th>
<th data-quarto-table-cell-role="th">Book of Mormon</th>
<td>332 (37.4)</td>
<td>0.75</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">New Testament</th>
<td>254 (28.6)</td>
<td>0.39</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Doctrine and Covenants</th>
<td>226 (25.5)</td>
<td>0.75</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Pearl of Great Price</th>
<td>56 (6.3)</td>
<td>1.07</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Old Testament</th>
<td>19 (2.1)</td>
<td>0.01</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="a024aeb7" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Bar chart with the books with the most citations (by proportion) </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the data</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> {}</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>cite_dict <span class="op">=</span> df.groupby(<span class="st">'Book'</span>)[<span class="st">'Citations'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>count_dict <span class="op">=</span> counts_df.groupby(by<span class="op">=</span><span class="st">'Book'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key <span class="kw">in</span> cite_dict:</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    df_2[key] <span class="op">=</span> <span class="bu">round</span>(cite_dict[key] <span class="op">/</span> count_dict[key], <span class="dv">2</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(df_2.items()), columns<span class="op">=</span>[<span class="st">'Book'</span>, <span class="st">'Average'</span>])</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> df_2.sort_values(by<span class="op">=</span><span class="st">'Average'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">7</span>)  <span class="co"># Books with average citations per verse greater than one</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>df_2.reset_index(drop <span class="op">=</span> <span class="va">True</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Make and display the plot</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">5</span>))</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>plt.bar(df_2[<span class="st">"Book"</span>], df_2[<span class="st">"Average"</span>], color <span class="op">=</span> <span class="st">'b'</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, <span class="fl">4.5</span>)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Book"</span>)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Citations per Verse"</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Average Citations per Verse (by Book)"</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">4</span>, <span class="fl">3.95</span>, <span class="st">"Books with average citations </span><span class="ch">\n</span><span class="st"> per verse greater than one"</span>, ha <span class="op">=</span> <span class="st">'left'</span>, fontsize <span class="op">=</span> <span class="dv">10</span>) </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> bar <span class="kw">in</span> plt.bar(df_2[<span class="st">"Book"</span>], df_2[<span class="st">"Average"</span>]):</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    height <span class="op">=</span> bar.get_height()</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    plt.text(</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        bar.get_x() <span class="op">+</span> bar.get_width()<span class="op">/</span><span class="dv">2</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        height,                   </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"</span><span class="sc">{</span>height<span class="sc">:.2f}</span><span class="ss">"</span>,        </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>        ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'bottom'</span>     </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="data-acquisition_files/figure-html/cell-4-output-1.png" width="757" height="469" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>I was surprised to see that <code>2 Nephi 31:20</code> has been the most cited verse in General Conference over the last 10 years. It is certainly a powerful verse, but I did not expect to see it at the top spot. When I asked friends and family what they thought would be number one, many of them guessed <code>1 Nephi 3:7</code>, <code>John 3:16</code>, and others, but no one thought of <code>2 Nephi 31:20</code>. After examining the most-cited verses, many come with little surprise. For example, the gospel truths taught in <code>Alma 7:11-12</code>, <code>Moses 1:39</code>, and in <code>Matthew 11:28</code> are equally comforting and inspiring—and ultimately worthy of every reference.</p>
<p>I also wanted to know which standard works and individual books were cited the most—by both count and proportion. It was expected that the <code>Book of Mormon</code> receive a lot of attention, whereas the <code>Old Testament</code> receive comparatively less so. What was interesting to see was that the verses in <code>Enos</code>, the <code>Articles of Faith</code>, and <code>Joseph Smith—History</code> were all cited, on average, more than once, placing such books in the top seven. I would have expected one of the four gospels to make an appearance (e.g.&nbsp;<code>John</code>), but such is not the case.</p>
<p>Futher analysis may be done in an attempt to discover textual patterns in the most-cited verses, which may provide additional insight.</p>
</section>
<section id="additional-information" class="level3">
<h3 class="anchored" data-anchor-id="additional-information">Additional Information</h3>
<p>The code and outputted data associated with this analysis and its results may be found in <a href="https://github.com/carsonordyna/LDS_Scripture_Counts_and_Citations/tree/main">this Github repository</a>. The <code>README.md</code> file in the repository briefly outlines the various files found therein. Additional information and context may be gained through exploration of the various pages of <a href="https://www.churchofjesuschrist.org/">the Church’s website</a>.</p>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Data Acquisition Project"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Carson Ordyna"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2025-11-17"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu"># Scraping LDS Scripture Count and Citation Data</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">##### **Outline**</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="co">[</span><span class="ot">**Introduction**</span><span class="co">](#introduction)</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="co">[</span><span class="ot">**Method**</span><span class="co">](#method)</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span><span class="co">[</span><span class="ot">**Exploratory Data Analysis**</span><span class="co">](#exploratory-data-analysis)</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span><span class="co">[</span><span class="ot">**Additional Information**</span><span class="co">](#additional-information)</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="al">![Logo for The Church of Jesus Christ of Latter-day Saints](../lds_logo.jpg)</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu">### Introduction</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>For two years, from 2021 to 2023, I served as a full-time volunteer for my church, The Church of Jesus Christ of Latter-day Saints in Poland. Every six months, leaders of our Church give talks about Jesus Christ and His restored gospel, and members across the world listen to the broadcasted speeches. As a volunteer, I spent at least an hour each day studying from the Bible, the Book of Mormon, and other books of scripture, and I often wondered which verses of scripture were most often cited in the talks given by church leaders. I figured that a given verse's citation frequency was a good proxy measure of its importance. If certain verses have been quoted rather frequently, then I felt that I should know the references to them—and maybe even memorize the verses themselves.</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>The issue, though, was having the time and willpower to manually comb through each talk and tally up all the scripture citations. In my eyes, the juice simply wasn't worth the squeeze. However, after returning home from Poland, through my statistics coursework, I have learned webscraping skills that have allowed me automate this task, thereby providing the desired results in a fraction of the time and with a fraction of the effort that would have been required to do everything manually.</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="al">![Scriptures](../scriptures.jpg)</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="fu">### Method</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>The semiannual meetings during which leaders give these talks are called General Conferences. On <span class="co">[</span><span class="ot">the Church's website</span><span class="co">](https://www.churchofjesuschrist.org/study/general-conference)</span>, General Conference talks from the last several years may be found. Additionally, the content of all five books of the Church's cannonized scripture (the Old Testament, New Testament, Book of Mormon, Doctrine and Covenants, and the Pearl of Great Price, collectively referred to as the "Standard Works") may also be found on <span class="co">[</span><span class="ot">the Church's website</span><span class="co">](https://www.churchofjesuschrist.org/study/scriptures)</span>. After reviewing the <span class="in">`robots.txt`</span> for the site, I confirmed that the <span class="in">`general-conference`</span> and <span class="in">`scripture`</span> webpages were not disallowed and, therefore, were eligible for scraping.</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>I began with obtaining a list of verse counts for each chapter in each book in each standard work. These verse counts were then used when whole chapters and whole books were cited. In such cases, each verse in the whole chapter/book were counted as being cited. To generate this list of verse counts, I explored the <span class="in">`scripture`</span> pages of <span class="co">[</span><span class="ot">the Church's website</span><span class="co">](https://www.churchofjesuschrist.org/study/scriptures)</span> and made note of how the web address was patterned. I observed that the address format of a webpage for a given chapter was: https://www.churchofjesuschrist.org/study/scriptures/{standard work code}/{book code}/{chapter number}. From the main <span class="in">`scripture`</span> page, using <span class="in">`requests`</span> and <span class="in">`BeautifulSoup`</span>, I scraped a list of these codes for each standard work (e.g. <span class="in">`bofm`</span> for Book of Mormon) and each book within it (e.g. <span class="in">`1-ne`</span> for 1 Nephi). I was then able to iterate through these standard work and book codes, scrape the webpages for all the chapters, and ultimately record the total number of verses in each chapter.</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>After obtaining verse count data, I explored the <span class="in">`general-conference`</span> pages of <span class="co">[</span><span class="ot">the Church's website</span><span class="co">](https://www.churchofjesuschrist.org/study/general-conference)</span>. As similarly done before, I made note of the address format of a webpage for a given General Conference talk. Then, I began to iterate through each year (from 2016 to 2025 inclusive) and through each of the two conferences held each year. For each conference, I iterated through each talk given, and for each talk, I scraped a list of all links that were to a <span class="in">`scripture`</span> webpage. I filtered out ones that were not associated with a legitimate verse, set of verses, chapter, or book, and I appended the rest to a running list. For simplicity, I broke up sets of verses individually (e.g. 1 Nephi 4:6-7 would be treated as 1 Nephi 4:6 and 1 Nephi 4:7). Entire chapters and books were treated similarly.</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="al">![Dallin H. Oaks, President of the Church, speaking at General Conference (Oct. 2025)](../president_oaks.jpg)</span>{ width=50% height=40% }</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>After iterating through everything, the running list of citations were grouped by <span class="in">`Book`</span>, <span class="in">`Chapter`</span>, and <span class="in">`Verse`</span> and the number of <span class="in">`Citations`</span> computed. The data was then subsetted to include only verses that were cited at least 8 times ($n = 887$). For this subset, the corresponding text of each verse was also scraped and added. This citation data was merged with the count data and then saved.</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>The following consists of some brief exploratory analysis of the results.</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exploratory Data Analysis</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Import libraries</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tableone <span class="im">import</span> TableOne</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the data</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"../verse_data/Verses.csv"</span>)</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>counts_df <span class="op">=</span> pd.read_csv(<span class="st">"../verse_data/VerseCounts.csv"</span>)</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Add two columns with individual book and standard work verse counts</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Book_Verse_Count'</span>] <span class="op">=</span> df[<span class="st">'Book'</span>].<span class="bu">map</span>(counts_df.groupby(by<span class="op">=</span><span class="st">'Book'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict())</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Standard_Work_Verse_Count'</span>] <span class="op">=</span> df[<span class="st">'Standard_Work'</span>].<span class="bu">map</span>(counts_df.groupby(by<span class="op">=</span><span class="st">'Standard_Work'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict())</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect the data</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>df<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> rows and </span><span class="sc">{</span>df<span class="sc">.</span>shape[<span class="dv">1</span>]<span class="sc">}</span><span class="ss"> columns </span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The 15 most cited verses in the last 10 years:"</span>)</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">'Book'</span>, <span class="st">'Chapter'</span>, <span class="st">'Verse'</span>, <span class="st">'Citations'</span>, <span class="st">'Text'</span>]].head(<span class="dv">15</span>)</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Display a "Table 1" with standard works and citation COUNTS</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate the table for COUNTS</span></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>table_df <span class="op">=</span> TableOne(df, columns<span class="op">=</span>[<span class="st">'Standard_Work'</span>, <span class="st">'Citations'</span>],</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>                    categorical<span class="op">=</span>[<span class="st">'Standard_Work'</span>], continuous<span class="op">=</span>[<span class="st">'Citations'</span>], missing <span class="op">=</span> <span class="va">False</span>).tableone</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the last row and rename the index and a column</span></span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>table_df <span class="op">=</span> table_df.iloc[:<span class="op">-</span><span class="dv">1</span>, ]</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>table_df.columns <span class="op">=</span> [<span class="st">'Citations'</span>]</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>table_df.index <span class="op">=</span> pd.MultiIndex.from_tuples([(                   <span class="st">'n'</span>,                       <span class="st">''</span>),</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,         <span class="st">'Book of Mormon'</span>),</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>, <span class="st">'Doctrine and Covenants'</span>),</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,          <span class="st">'New Testament'</span>),</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,          <span class="st">'Old Testament'</span>),</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>                                            (<span class="st">'Standard Work: n (%)'</span>,   <span class="st">'Pearl of Great Price'</span>)])</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the PROPORTIONS (i.e. average citations per verse)</span></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> df.merge(counts_df, on<span class="op">=</span>[<span class="st">"Standard_Work"</span>, <span class="st">"Book"</span>, <span class="st">"Chapter"</span>])</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>cite_dict <span class="op">=</span> df_1.groupby(<span class="st">'Standard_Work'</span>)[<span class="st">'Citations'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>count_dict <span class="op">=</span> counts_df.groupby(by<span class="op">=</span><span class="st">'Standard_Work'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> {}</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key <span class="kw">in</span> cite_dict:</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>    df_1[key] <span class="op">=</span> <span class="bu">round</span>(cite_dict[key] <span class="op">/</span> count_dict[key], <span class="dv">2</span>)</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the PROPORTIONS (i.e. average citations per verse) to the table</span></span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>table_df[<span class="st">'Average Citations per Verse'</span>] <span class="op">=</span> [df_1.get(idx[<span class="dv">1</span>], <span class="st">''</span>) <span class="cf">for</span> idx <span class="kw">in</span> table_df.index]</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder the rows</span></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>table_df.iloc[[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>]]</span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Bar chart with the books with the most citations (by proportion) </span></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the data</span></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> {}</span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>cite_dict <span class="op">=</span> df.groupby(<span class="st">'Book'</span>)[<span class="st">'Citations'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>count_dict <span class="op">=</span> counts_df.groupby(by<span class="op">=</span><span class="st">'Book'</span>)[<span class="st">'Verse_Count'</span>].<span class="bu">sum</span>().to_dict()</span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key <span class="kw">in</span> cite_dict:</span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>    df_2[key] <span class="op">=</span> <span class="bu">round</span>(cite_dict[key] <span class="op">/</span> count_dict[key], <span class="dv">2</span>)</span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(df_2.items()), columns<span class="op">=</span>[<span class="st">'Book'</span>, <span class="st">'Average'</span>])</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> df_2.sort_values(by<span class="op">=</span><span class="st">'Average'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">7</span>)  <span class="co"># Books with average citations per verse greater than one</span></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>df_2.reset_index(drop <span class="op">=</span> <span class="va">True</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a><span class="co"># Make and display the plot</span></span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">5</span>))</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>plt.bar(df_2[<span class="st">"Book"</span>], df_2[<span class="st">"Average"</span>], color <span class="op">=</span> <span class="st">'b'</span>)</span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, <span class="fl">4.5</span>)</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Book"</span>)</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Citations per Verse"</span>)</span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Average Citations per Verse (by Book)"</span>)</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">4</span>, <span class="fl">3.95</span>, <span class="st">"Books with average citations </span><span class="ch">\n</span><span class="st"> per verse greater than one"</span>, ha <span class="op">=</span> <span class="st">'left'</span>, fontsize <span class="op">=</span> <span class="dv">10</span>) </span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> bar <span class="kw">in</span> plt.bar(df_2[<span class="st">"Book"</span>], df_2[<span class="st">"Average"</span>]):</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>    height <span class="op">=</span> bar.get_height()</span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>    plt.text(</span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>        bar.get_x() <span class="op">+</span> bar.get_width()<span class="op">/</span><span class="dv">2</span>,</span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>        height,                   </span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"</span><span class="sc">{</span>height<span class="sc">:.2f}</span><span class="ss">"</span>,        </span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>        ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'bottom'</span>     </span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>I was surprised to see that <span class="in">`2 Nephi 31:20`</span> has been the most cited verse in General Conference over the last 10 years. It is certainly a powerful verse, but I did not expect to see it at the top spot. When I asked friends and family what they thought would be number one, many of them guessed <span class="in">`1 Nephi 3:7`</span>, <span class="in">`John 3:16`</span>, and others, but no one thought of <span class="in">`2 Nephi 31:20`</span>. After examining the most-cited verses, many come with little surprise. For example, the gospel truths taught in <span class="in">`Alma 7:11-12`</span>, <span class="in">`Moses 1:39`</span>, and in <span class="in">`Matthew 11:28`</span> are equally comforting and inspiring—and ultimately worthy of every reference.</span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>I also wanted to know which standard works and individual books were cited the most—by both count and proportion. It was expected that the <span class="in">`Book of Mormon`</span> receive a lot of attention, whereas the <span class="in">`Old Testament`</span> receive comparatively less so. What was interesting to see was that the verses in <span class="in">`Enos`</span>, the <span class="in">`Articles of Faith`</span>, and <span class="in">`Joseph Smith—History`</span> were all cited, on average, more than once, placing such books in the top seven. I would have expected one of the four gospels to make an appearance (e.g. <span class="in">`John`</span>), but such is not the case.</span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>Futher analysis may be done in an attempt to discover textual patterns in the most-cited verses, which may provide additional insight.</span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a><span class="fu">### Additional Information</span></span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a>The code and outputted data associated with this analysis and its results may be found in <span class="co">[</span><span class="ot">this Github repository</span><span class="co">](https://github.com/carsonordyna/LDS_Scripture_Counts_and_Citations/tree/main)</span>. The <span class="in">`README.md`</span> file in the repository briefly outlines the various files found therein. Additional information and context may be gained through exploration of the various pages of <span class="co">[</span><span class="ot">the Church's website</span><span class="co">](https://www.churchofjesuschrist.org/)</span>.</span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a></span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>